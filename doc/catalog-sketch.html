<html xmlns:gt="http://blackmesatech.com/2020/grammartools" xmlns:rtn="http://blackmesatech.com/2020/iXML/recursive-transition-networks" xmlns:cat="https://github.com/cmsmcq/ixml-tests">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>iXML grammar</title>
<style type="text/css">
	  div.unknown { color: red; margin-left: 1em; }
	  div.xml { color: navy; margin-left: 1em; }

	  div.block { margin-left: 25%; }
	  div.block > div.block { margin-left: 0; }
	  div.test-set {}
	  div.metadata { width: 100%; background-color: #DDD; }
	  div.app-info { color: brown; }
	  div.ixml-source { font-family: monospace; padding: 0.5em; border: 1px solid navy;}
	  div.ast { padding: 0.5em; border: 1px solid navy;}
	  div.grammar-test { margin-top: 1em; }
	  h2.test-set { margin-top: 3em; width: 100%; border-bottom: 1px solid black; }
	  h3.test-set { margin-top: 1em; width: 100%; margin-left: 10%; border-bottom: 1px solid black; }
	  span.label { font-weight: normal; }
	  span.test-string { font-family: monospace; font-size: larger; border: 1px solid gray;}
	  span.assertion { font-style: italic;}
	</style>
</head>
<body>
<h1>Straw man sketch</h1>
<h4>(2021-01-25)</h4>
  
  <div class="block desc">
    <p>This is a hand-created mockup of a test catalog, created to
    help myself visualize how things should fit together.</p>

    <p>Revisions:  2021-01-25 : CMSMcQ : began making the file.</p>    
    
    <p>It is inspired partly by examination of the XSD and QT3 test
    suites, and partly by introspection. The XSD test suite has firm
    ideas about what belongs in a document together and what must be
    in a separate document; in particular, it requires test cases and
    the catalogs for test sets (the constituent parts of a test suite)
    to be in separate documents.  The QT3 test suite is explicitly
    more relaxed about that, at least as regards actual test cases.
    Having the test-case input internal to the catalog makes some
    tasks easier, and avoids filling a directory with many many very
    small files.</p>
    <p>So as a design principle I would like to say that both test
    cases and test sets can occur either inline or externally.
    So there will be <code>test-set</code> and <code>test-set-ref</code>
    elements, <code>test-case</code> and <code>test-case-ref</code>
    elements.  And similarly for other things I discover I want to
    have either inline or external.</p>
  </div>

  <h2 class="test-set">Test set: a</h2>
    <div class="block metadata created"></div>

    <div class="block desc">
      <p>This is a very small grammar, with a very few test cases.
      Everything is so small it fits nicely inline.</p>
      <p>The grammar is one of the smallest that illustrates center
      embedding.</p>
      <p>This collection of tests illustrates one important
      pattern for test sets:  inputs are a grammar in ixml notation
      and some strings which do or do not belong to the language
      defined by the grammar.  Expected results include the XML
      form of the ixml grammar (that is, the result of parsing it
      against the standard ixml grammar for ixml) and the XML
      form of the strings.</p>
      <p>Other patterns may exist, but for now, I think this
      works.</p>
    </div>
    
    <div class="block ixml-source">S: 'a'; '(', S, ')'.</div>

    <h3 class="sub test-set">Test set: a-handwork</h3>
      <div class="block metadata created"></div>
      <div class="block grammar-test">
<b class="label">Grammar test </b>
	<span class="inline metadata created">[created by C. M. Sperberg-McQueen on 2021-01-25]</span>
	<div class="block result">
<span class="label">Result: </span>
	  <a class="inline xref" href="a/a.ixml.xml">a/a.ixml.xml</a>
	</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">a</span>
</div>
	<div class="block result">
<span class="label">Result: </span>
	  <div class="block ast"><div class="xml">
<span class="tag starttag">&lt;S&gt;</span>a<span class="tag endtag">&lt;/S&gt;</span>
</div></div>
	</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(a)</span>
</div>
	<div class="block result">
<span class="label">Result: </span>
	  <div class="block ast"><div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>a<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div></div>
	</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((((((a)))))))</span>
</div>
	<div class="block result">
<span class="label">Result: </span>
	  <div class="block ast"><div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>(<div class="xml">
<span class="tag starttag">&lt;S&gt;</span>a<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div>)<span class="tag endtag">&lt;/S&gt;</span>
</div></div>
	</div>
      </div>
      
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((((((a))))))</span>
</div>
	<div class="block result">
<span class="label">Result: </span>
	  <span class="assertion">Not a sentence.</span>
	</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(b)</span>
</div>
	<div class="block result">
<span class="label">Result: </span>
	  <span class="assertion">Not a sentence.</span>
	</div>
      </div>      

    
    
    <h3 class="sub test-set">Test set: a-arc-final-negative</h3>
      <div class="block metadata created"></div>
      <div class="block desc">
	<p>This set of test cases is constructed using
	'arc-final' coverage:  for each arc in the FSA
	used to generate the test cases, a test case is
	constructed that begins in the start state and
	ends by traversing that arc.  If the arc's target
	state is final, the test is a positive test
	(and not included here); otherwise it's a negative
	test and is included here.</p>
      </div>

      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(a</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
	<div class="block desc">
	  <p>This test case illustrates the general principle
	  that everywhere in the test catalog, namespaced
	  attributes in other namespaces are allowed.  The
	  test case was generated by Gingersnap, which uses the
	  gt:* attributes to provide some metadata about the
	  test:  the gt:trace attribute identifies the states
	  and arcs visited by this test, in the finite state
	  automaton from which the tests were generated.
	  The gt:polarity attribute specifies that the
	  input string is not a sentence.  (It's redundant,
	  since in this catalog sketch that information is
	  conveyed by the <code>result</code> element
	  containing <code>assert-not-a-sentence</code>.)
	  But I have kept it around to illustrate the point.</p>
	</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((((</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((a</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>

    
    
    <h3 class="sub test-set">Test set: a-arc-negative</h3>

      <div class="block metadata created"></div>      
      <div class="block desc">
	<p>This set of test cases is constructed using 'negative
	arc-internal' coverage: for each arc in the FSA used to
	generate the test cases, one or more test cases are
	constructed that begin in the start state, traverse that
	arc, and continue, ending in a non-final state.</p>
      </div>
      
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">($)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">($</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(#a))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(#))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(a </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(a </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(())</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(()</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((儽a)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((儽)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((#a)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((#)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((()))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((())</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a) </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((a) </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((千a)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((千)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((񫛜)))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">((((񫛜))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a퟿))</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a퟿)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a)#)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a)#</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))񹚗)</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))񹚗</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))񹚗</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))񹚗</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))) )</span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))) </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))) </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>
      <div class="block grammar-test">
<b class="label">Test case </b>
	
	<div class="block test-string">
<span class="label">Test string: </span><span class="test-string">(((a))) </span>
</div>
	<div class="block result">
<span class="label">Result: </span><span class="assertion">Not a sentence.</span>
</div>
      </div>

    
  

  <h2 class="test-set">Test set: ixml</h2>
    <div class="block metadata created"></div>

    <div class="block vxml-ref">
<span class="label">External grammar:  </span><a class="inline xref" href="https://invisiblexml.org/ixml.xml">https://invisiblexml.org/ixml.xml</a>
</div>

    <div class="block desc">
      <p>This test set illustrates cases in which
      the input string and/or the expected output are
      external.</p>
      <p>It also illustrates the provision of other information
      by embedding it in app-info.</p>
    </div>

    <div class="block grammar-test">
<b class="label">Test case </b>
      
      <div class="block test-string">
<span class="label">External test string: </span><a class="inline xref" href="ixml/ixml-1.ixml">ixml/ixml-1.ixml</a>
</div>
      <div class="block result">
<span class="label">Result: </span>
	<a class="inline xref" href="ixml/ixml-1.ixml.xml">ixml/ixml-1.ixml.xml</a>
      </div>
      <div class="block app-info">
	<div class="block test-string">
<span class="label">Raw parse tree: </span><a class="inline xref" href="ixml/ixml-1.raw.xml">ixml/ixml-1.raw.xml</a>
</div>
      </div>
    </div>

    <div class="block grammar-test">
<b class="label">Test case </b>
      
      <div class="block test-string">
<span class="label">External test string: </span><a class="inline xref" href="ixml/ixml-2.ixml">ixml/ixml-2.ixml</a>
</div>
      <div class="block result">
<span class="label">Result: </span>
	<a class="inline xref" href="ixml/ixml-2.ixml.xml">ixml/ixml-2.ixml.xml</a>
      </div>
      <div class="block app-info">
	<div class="block test-string">
<span class="label">Raw parse tree: </span><a class="inline xref" href="ixml/ixml-2.raw.xml">ixml/ixml-2.raw.xml</a>
</div>
      </div>
    </div>

  
  
</body>
</html>
